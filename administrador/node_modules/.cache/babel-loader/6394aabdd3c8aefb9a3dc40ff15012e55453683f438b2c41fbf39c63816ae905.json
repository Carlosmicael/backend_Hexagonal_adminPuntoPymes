{"ast":null,"code":"import { auth } from \"../firebase/config\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nconst API_URL = \"http://localhost:3000/auth/login\";\nconst login = async (email, password) => {\n  const userCredential = await signInWithEmailAndPassword(auth, email, password);\n  const idToken = await userCredential.user.getIdToken();\n  const res = await fetch(API_URL + \"login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    credentials: \"include\",\n    body: JSON.stringify({\n      idToken\n    })\n  });\n  if (!res.ok) throw new Error(\"Error en el login del backend\");\n  const data = await res.json();\n  localStorage.setItem(\"user\", JSON.stringify(data.user));\n  return data.user;\n};\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\nexport default {\n  login,\n  logout\n};","map":{"version":3,"names":["auth","signInWithEmailAndPassword","API_URL","login","email","password","userCredential","idToken","user","getIdToken","res","fetch","method","headers","credentials","body","JSON","stringify","ok","Error","data","json","localStorage","setItem","logout","removeItem"],"sources":["/Users/carlos/Documents/proyectoPuntoPymes/pymespuntoRenovado/backend_Hexagonal_adminPuntoPymes/administrador/src/api/auth.js"],"sourcesContent":["import { auth } from \"../firebase/config\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\n\nconst API_URL = \"http://localhost:3000/auth/login\";\n\nconst login = async (email, password) => {\n\n  const userCredential = await signInWithEmailAndPassword(auth, email, password);\n  const idToken = await userCredential.user.getIdToken();\n\n  const res = await fetch(API_URL + \"login\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    credentials: \"include\", \n    body: JSON.stringify({ idToken }),\n  });\n\n  if (!res.ok) throw new Error(\"Error en el login del backend\");\n\n  const data = await res.json();\n  localStorage.setItem(\"user\", JSON.stringify(data.user));\n\n  return data.user;\n};\n\n\nconst logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nexport default { login, logout };\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,oBAAoB;AACzC,SAASC,0BAA0B,QAAQ,eAAe;AAE1D,MAAMC,OAAO,GAAG,kCAAkC;AAElD,MAAMC,KAAK,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAEvC,MAAMC,cAAc,GAAG,MAAML,0BAA0B,CAACD,IAAI,EAAEI,KAAK,EAAEC,QAAQ,CAAC;EAC9E,MAAME,OAAO,GAAG,MAAMD,cAAc,CAACE,IAAI,CAACC,UAAU,CAAC,CAAC;EAEtD,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACT,OAAO,GAAG,OAAO,EAAE;IACzCU,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,WAAW,EAAE,SAAS;IACtBC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEV;IAAQ,CAAC;EAClC,CAAC,CAAC;EAEF,IAAI,CAACG,GAAG,CAACQ,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;EAE7D,MAAMC,IAAI,GAAG,MAAMV,GAAG,CAACW,IAAI,CAAC,CAAC;EAC7BC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEP,IAAI,CAACC,SAAS,CAACG,IAAI,CAACZ,IAAI,CAAC,CAAC;EAEvD,OAAOY,IAAI,CAACZ,IAAI;AAClB,CAAC;AAGD,MAAMgB,MAAM,GAAGA,CAAA,KAAM;EACnBF,YAAY,CAACG,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,eAAe;EAAEtB,KAAK;EAAEqB;AAAO,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}